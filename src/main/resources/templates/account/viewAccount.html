<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/base-layout"
>
<head>
<meta charset="utf-8">
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
</head>
<body>
<div layout:fragment="content_div">
	<!-- Top -->
	<div id="product-top">
		<div class="shell">
			<!-- Header -->
			<div id="header">
				<h1 id="logo">
					<a href="/rosso-ec/shop/top"><img th:src="@{/css/images/logo.jpg}" style="width: 200px; height: 61px; float: left;"></a>
				</h1>
				<div id="navigation">
					<ul>
						<li><a href="/rosso-ec/shop/top">Home</a></li>
						<li><a href="#">My Account</a></li>
						<li><a href="#">My Cart</a></li>
					</ul>
				</div>
			</div>
			<!-- End Header -->
		</div>
	</div>
	<!-- End Top -->
	<!-- Main -->
	<div id="main">
		<div class="shell">
			<!-- Search, etc -->
			<div class="options">
				<span class="left" ><a href="#" class="ft28">アカウント情報</a></span>
			</div>
			<!-- End Search, etc -->
			<!-- Content -->
			<div id="content">
				<!-- Container -->
				<div id="container">
					<div class="row marketing">
						<div class="col-lg-12">
							<div align="center" class="pull-right">
								<button type="button" id="bt_back" name="submit" class="btn btn-primary btn-lg">戻る</button>
								<button type="button" id="bt_update" name="submit" class="btn btn-success btn-lg">修正</button>
								<button type="button" id="bt_delete" name="submit" class="btn btn-danger btn-lg">削除</button>
							</div>
							<div class="form-area">
								<h3 style="margin-bottom: 25px;">商品詳細</h3>
								<h2>ユーザID：<span th:text="${accountDetail.userId}"></span></h2>
								<h2>姓 : <span th:text="${accountDetail.firstName}"></span></h2>
								<h2>名 : <span th:text="${accountDetail.lastName}"></span></h2>
								<h2>性別 : <span th:text="${accountDetail.gender}"></span></h2>
								<h2> 年齢: <span th:text="${accountDetail.age}"></span></h2>
								<h2> 郵便番号: <span th:text="${accountDetail.postcode}"></span></h2>
								<h2> 住所1: <span th:text="${accountDetail.address1}"></span></h2>
								<h2> 住所2: <span th:text="${accountDetail.address2}"></span></h2>
								<h2> 建物名: <span th:text="${accountDetail.buildingName}"></span></h2>
								<h2> 電話番号: <span th:text="${accountDetail.telephoneNumber}"></span></h2>
							</div>
						</div>
					</div>
				</div>
				<!-- End Container -->
			</div>
			<!-- End Content -->
		</div>
	</div>
	<!-- End Main -->
</div>
<content layout:fragment="local_script">
<script type="text/javascript">
	$(document).ready(function(){

		var token = $("meta[name='_csrf']").attr("content");
	    var header = $("meta[name='_csrf_header']").attr("content");
	    $(document).ajaxSend(function(e, xhr, options) {
	      xhr.setRequestHeader(header, token);
	    });

		//Topページ
		$("#bt_back").click(function(){
			window.location.href='/rosso-ec/shop/top'
		});
		
		//商品修正ページ
		$("#bt_update").click(function(){
			var productId = $('#productId').val();
			console.log("productId : " + productId);
			window.location.href='/rosso-ec/shop/update/product/' + productId;
		});
		
		//商品削除
		$("#bt_delete").click(function() {
			var result = confirm("この商品を削除しますか");
			var productId = $('#productId').val();
			console.log("id : " + productId);
			if (result) {
				$.ajax({
					type: "POST",
					url: "/rosso-ec/shop/delete/product/" + productId,
					success: function(result) {
						console.log(result);
						window.location = '/rosso-ec/shop/top'
					}
				});
			}
		});
	});
</script>
</content>
</body>
</html>